<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.1 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8" />

<!-- begin _includes/seo.html --><title>Getting Started with GitHub Container Registry - Nickâ€™s Blog</title>
<meta name="description" content="A Guide to Using and Managing Container Images">


  <meta name="author" content="Nick Huang">
  
  <meta property="article:author" content="Nick Huang">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Nick's Blog">
<meta property="og:title" content="Getting Started with GitHub Container Registry">
<meta property="og:url" content="https://nickhuangcyh.github.io/blog/devops/getting-started-with-github-container-registry/">


  <meta property="og:description" content="A Guide to Using and Managing Container Images">



  <meta property="og:image" content="https://nickhuangcyh.github.io/blog/assets/images/github_container_registry.png">





  <meta property="article:published_time" content="2024-07-23T10:00:00+00:00">





  

  


<link rel="canonical" href="https://nickhuangcyh.github.io/blog/devops/getting-started-with-github-container-registry/">












<!-- end _includes/seo.html -->
 
<link
  href="/blog/feed.xml"
  type="application/atom+xml"
  rel="alternate"
  title="Nick's Blog Feed"
/>


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<script>
  document.documentElement.className =
    document.documentElement.className.replace(/\bno-js\b/g, "") + " js ";
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/blog/assets/css/main.css" />
<link
  rel="preload"
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"
  as="style"
  onload="this.onload=null;this.rel='stylesheet'"
/>
<noscript
  ><link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"
/></noscript>
<link rel="stylesheet" href="/blog/assets/css/custom.css" />



<script
  async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1889198908569610"
  crossorigin="anonymous"
></script>

    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->


    
  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/blog/">
          Nick's Blog
          <span class="site-subtitle">Just do it!</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/blog/"
                
                
              >Home</a>
            </li><li class="masthead__menu-item">
              <a
                href="/blog/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/blog/tags/"
                
                
              >Tags</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/blog/assets/images/github_container_registry.png');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Getting Started with GitHub Container Registry

        
      </h1>
      
        <p class="page__lead">A Guide to Using and Managing Container Images
</p>
      
      

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-07-23T10:00:00+00:00">July 23, 2024</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


      
    </div>
  
  
    <span class="page__hero-caption">Photo credit: <a href="https://unsplash.com"><strong>Unsplash</strong></a>
</span>
  
</div>







<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://nickhuangcyh.github.io/blog/">
        <img src="/blog/assets/images/bio-photo.jpg" alt="Nick Huang" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://nickhuangcyh.github.io/blog/" itemprop="url">Nick Huang</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>iOS/Android Developer. Focus on IoT.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Taiwan, Taipei</span>
        </li>
      

      
        
          
            <li><a href="https://www.linkedin.com/in/nick-huang-5485b315a/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://github.com/nickhuangcyh" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.youtube.com/channel/UC6Dnl0rB-HAhfL2XWRIZXmg" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i><span class="label">Youtube</span></a></li>
          
        
          
            <li><a href="https://www.instagram.com/nickhuangcyh/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
          
            <li><a href="https://twitter.com/nickhuangcyh" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="mailto:nick25932219@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
            <li><a href="https://www.facebook.com/nickhuangcyh" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Getting Started with GitHub Container Registry">
    <meta itemprop="description" content="A Guide to Using and Managing Container Images">
    <meta itemprop="datePublished" content="2024-07-23T10:00:00+00:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Table of contents</h4></header>
              <ul class="toc__menu"><li><a href="#ç‚ºä»€éº¼æœƒå¯«é€™ç¯‡æ–‡ç« ">ç‚ºä»€éº¼æœƒå¯«é€™ç¯‡æ–‡ç« </a></li><li><a href="#æ–‡ç« ç°¡ä»‹">æ–‡ç« ç°¡ä»‹</a></li><li><a href="#é–‹å§‹ä¹‹å‰">é–‹å§‹ä¹‹å‰</a><ul><li><a href="#create-a-node_sample-folder">Create a node_sample folder</a></li><li><a href="#install-node-package-express">Install node package express</a></li><li><a href="#create-an-appjs-file">Create an app.js file</a></li><li><a href="#create-a-gitignore-file">Create a .gitignore file</a></li><li><a href="#run-appjs">Run app.js</a></li></ul></li><li><a href="#create-a-dockerfile">Create a Dockerfile</a></li><li><a href="#ä¸Šå‚³-docker-image-åˆ°-github-container-registry">ä¸Šå‚³ Docker Image åˆ° Github Container Registry</a></li><li><a href="#ç”¨-command-line-æ–¹å¼æ‰‹å‹•ä¸Šå‚³">ç”¨ Command line æ–¹å¼æ‰‹å‹•ä¸Šå‚³</a><ul><li><a href="#åˆ©ç”¨-dockerfile-ç”¢ç”Ÿ-image">åˆ©ç”¨ Dockerfile ç”¢ç”Ÿ image</a></li><li><a href="#æŸ¥çœ‹-docker-images">æŸ¥çœ‹ Docker images</a></li><li><a href="#å‰µå»º-image-tag">å‰µå»º image tag</a></li><li><a href="#generate-personal-access-tokens-classic">Generate Personal access tokens (classic)</a></li><li><a href="#ç™»å…¥-github-container-registry">ç™»å…¥ Github Container Registry</a></li><li><a href="#ä¸Šå‚³-images">ä¸Šå‚³ Images</a></li></ul></li><li><a href="#ç”¨-github-action-æ–¹å¼">ç”¨ Github Action æ–¹å¼</a><ul><li><a href="#create-a-deploy-imageyml">Create a deploy-image.yml</a></li><li><a href="#pushing-node_sample-repository">Pushing node_sample repository</a></li></ul></li><li><a href="#ä¸‹è¼‰-image">ä¸‹è¼‰ image</a></li></ul>
            </nav>
          </aside>
        
        <h2 id="ç‚ºä»€éº¼æœƒå¯«é€™ç¯‡æ–‡ç« ">ç‚ºä»€éº¼æœƒå¯«é€™ç¯‡æ–‡ç« </h2>

<p>éš¨è‘—å…¬å¸å°ˆæ¡ˆæ•¸é‡å¢åŠ ï¼Œæ¯å€‹å°ˆæ¡ˆçš„ç’°å¢ƒéœ€æ±‚ä¹Ÿè®Šå¾—æ›´åŠ å¤šæ¨£åŒ–ã€‚æˆ‘å€‘æ±ºå®šå°‡åŸæœ¬ä½¿ç”¨Dockerå»ºç½®çš„Android Jenkins Serverè½‰å‹ç‚ºæ›´éˆæ´»çš„æ¶æ§‹ï¼šä¸€å€‹ä¸»è¦çš„Jenkins Serverï¼ˆMasterï¼‰æ­é…å¤šå€‹Android Build Environmentï¼ˆSlaveï¼‰ï¼Œå¾Œè€…é€éDockerå‰µå»ºä¹¾æ·¨çš„ç’°å¢ƒã€‚é€™ç¯‡æ–‡ç« æ—¨åœ¨è¨˜éŒ„æ­¤éç¨‹ï¼Œä¸åƒ…ä½œç‚ºå€‹äººå­¸ç¿’çš„å›é¡§ï¼Œä¹Ÿå¸Œæœ›èƒ½å°å…¶ä»–é–‹ç™¼è€…æä¾›å¹«åŠ©ã€‚</p>

<h2 id="æ–‡ç« ç°¡ä»‹">æ–‡ç« ç°¡ä»‹</h2>

<p>æœ¬æ–‡å°‡å¼•å°åˆå­¸è€…åŠå¸Œæœ›æ·±å…¥äº†è§£å¦‚ä½•å°‡GitHubçš„æ–°å·¥å…·èå…¥CI/CDæµç¨‹çš„é–‹ç™¼è€…ï¼Œé€éç°¡æ˜çš„æŒ‡å—å’Œå¯¦ç”¨çš„æŠ€å·§ï¼Œå­¸ç¿’å¦‚ä½•å°‡å®¹å™¨æ˜ åƒæ¨é€è‡³GitHub Container Registryã€‚æˆ‘å°‡ä¸€æ­¥æ­¥å±•ç¤ºå¦‚ä½•è¨­å®šGitHub Actionsï¼Œè‡ªå‹•åŒ–æ§‹å»ºèˆ‡éƒ¨ç½²éç¨‹ï¼Œè®“ä½ çš„é–‹ç™¼å·¥ä½œè®Šå¾—æ›´åŠ é«˜æ•ˆã€‚</p>

<h2 id="é–‹å§‹ä¹‹å‰">é–‹å§‹ä¹‹å‰</h2>

<p>åœ¨æ·±å…¥ä¸»é¡Œä¹‹å‰ï¼Œè®“æˆ‘å€‘å…ˆé€é <code class="language-plaintext highlighter-rouge">express</code> æ¡†æ¶ï¼Œå¿«é€Ÿæ­å»ºä¸€å€‹é‹è¡Œæ–¼Node.jsä¸Šçš„ç°¡æ˜“æ‡‰ç”¨ã€‚</p>

<h3 id="create-a-node_sample-folder">Create a <code class="language-plaintext highlighter-rouge">node_sample</code> folder</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>node_sample
<span class="nb">cd </span>node_sample
</code></pre></div></div>

<h3 id="install-node-package-express">Install node package <code class="language-plaintext highlighter-rouge">express</code></h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm init <span class="nt">-y</span>
npm <span class="nb">install </span>express
</code></pre></div></div>

<h3 id="create-an-appjs-file">Create an <code class="language-plaintext highlighter-rouge">app.js</code> file</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim app.js
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nf">express</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello, World!</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Example app listening at http://localhost:</span><span class="p">${</span><span class="nx">port</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="create-a-gitignore-file">Create a <code class="language-plaintext highlighter-rouge">.gitignore</code> file</h3>

<blockquote>
  <p>è«‹è‡³ <a href="https://gitignore.io/">gitignore.io</a> ç”¢ç”Ÿ</p>
</blockquote>

<h3 id="run-appjs">Run <code class="language-plaintext highlighter-rouge">app.js</code></h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node app.js
</code></pre></div></div>

<p>åœ¨ chrome ä¸Šæ‰“é–‹ç¶²å€ <code class="language-plaintext highlighter-rouge">localhost:3000</code> å°±æœƒçœ‹åˆ°å¦‚ä¸‹</p>

<p><img src="/blog/assets/images/github_container_registry_sample_website.png" alt="github_container_registry_sample_website" /></p>

<h2 id="create-a-dockerfile">Create a Dockerfile</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim Dockerfile
</code></pre></div></div>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> node:latest</span>
<span class="k">WORKDIR</span><span class="s"> /usr/src/app</span>
<span class="k">COPY</span><span class="s"> package*.json app.js ./</span>
<span class="k">RUN </span>npm <span class="nb">install</span>
<span class="k">EXPOSE</span><span class="s"> 3000</span>
<span class="k">CMD</span><span class="s"> ["node", "app.js"]</span>
</code></pre></div></div>

<h2 id="ä¸Šå‚³-docker-image-åˆ°-github-container-registry">ä¸Šå‚³ Docker Image åˆ° Github Container Registry</h2>

<p>å¯«å®Œ Dockerfile å¾Œæœ‰å…©ç¨®æ–¹å¼å¯ä»¥å°‡ image ä¸Šå‚³åˆ° Github Container Registry ä¸Š</p>
<ol>
  <li>ç”¨ Command line æ–¹å¼æ‰‹å‹•ä¸Šå‚³</li>
  <li>ç”¨ Github Action æ–¹å¼ï¼Œç•¶ repository æœ‰ Commit æ™‚ï¼Œè‡ªå‹•åŸ·è¡Œ Github Action ä¸Šå‚³</li>
</ol>

<h2 id="ç”¨-command-line-æ–¹å¼æ‰‹å‹•ä¸Šå‚³">ç”¨ Command line æ–¹å¼æ‰‹å‹•ä¸Šå‚³</h2>

<h3 id="åˆ©ç”¨-dockerfile-ç”¢ç”Ÿ-image">åˆ©ç”¨ Dockerfile ç”¢ç”Ÿ image</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker build <span class="nt">-t</span> node_sample <span class="nb">.</span>
</code></pre></div></div>

<p><img src="/blog/assets/images/github_container_registry_docker_build_image.png" alt="github_container_registry_docker_build_image" /></p>

<h3 id="æŸ¥çœ‹-docker-images">æŸ¥çœ‹ Docker images</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker images
</code></pre></div></div>

<p><img src="/blog/assets/images/github_container_registry_docker_images.png" alt="github_container_registry_docker_images" /></p>

<h3 id="å‰µå»º-image-tag">å‰µå»º image tag</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag node_sample:latest ghcr.io/<span class="o">{</span>NAMESPACE<span class="o">}</span>/node_sample:latest
</code></pre></div></div>

<blockquote>
  <p>è¨˜å¾—å°‡ <code class="language-plaintext highlighter-rouge">NAMESPACE</code> å–ä»£æˆä½ çš„ Github account name</p>
</blockquote>

<h3 id="generate-personal-access-tokens-classic">Generate <code class="language-plaintext highlighter-rouge">Personal access tokens (classic)</code></h3>

<p>æº–å‚™å¥½ image å¾Œï¼Œåœ¨æˆ‘å€‘æ¨ä¸Š <strong>Github Container Registry</strong> å‰ï¼Œæˆ‘å€‘éœ€è¦å–å¾— <code class="language-plaintext highlighter-rouge">GITHUB_TOKEN</code> ç”¨ä¾†ç™»å…¥ <strong>Github Container Registry</strong></p>

<blockquote>
  <p>æ‰“é–‹ Github ç¶²é  -&gt; å³ä¸Šè§’ Profile -&gt; Settings -&gt; Developer settings -&gt; Personal access tokens -&gt; Tokens (classic) -&gt; Generate new token</p>
</blockquote>

<p>å‹¾é¸ <code class="language-plaintext highlighter-rouge">write:packages</code> , <code class="language-plaintext highlighter-rouge">read:packages</code> å’Œ <code class="language-plaintext highlighter-rouge">delete:packages</code> scopesï¼Œå¦‚ä¸‹åœ–</p>

<p><img src="/blog/assets/images/github_container_registry_generate_github_token.png" alt="github_container_registry_generate_github_token" /></p>

<p>é»æ“Š <strong>Generate token</strong>ï¼Œå°‡ token è¤‡è£½èµ·ä¾†</p>

<h3 id="ç™»å…¥-github-container-registry">ç™»å…¥ <strong>Github Container Registry</strong></h3>

<p>å°‡å‰›å‰›è¤‡è£½çš„ token å­˜åˆ°ç’°å¢ƒè®Šæ•¸</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">CR_PAT</span><span class="o">=</span>YOUR_TOKEN
</code></pre></div></div>

<p>ç™»å…¥ Container registry service at ghcr.io</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> <span class="nb">echo</span> <span class="nv">$CR_PAT</span> | docker login ghcr.io <span class="nt">-u</span> USERNAME <span class="nt">--password-stdin</span>
Login Succeeded
</code></pre></div></div>

<h3 id="ä¸Šå‚³-images">ä¸Šå‚³ Images</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker push ghcr.io/<span class="o">{</span>NAMESPACE<span class="o">}</span>/node_sample:latest
</code></pre></div></div>

<p>å›åˆ° Github ç¶²é ä¸Šé»æ“Š Packagesï¼Œå°±èƒ½çœ‹åˆ°ä¸Šå‚³æˆåŠŸäº†</p>

<p><img src="/blog/assets/images/github_container_registry_github_package.png" alt="github_container_registry_github_package" /></p>

<h2 id="ç”¨-github-action-æ–¹å¼">ç”¨ Github Action æ–¹å¼</h2>

<p>ä½¿ç”¨ Github Action çš„æ–¹å¼æ›´ç°¡å–®ï¼Œåœ¨ <code class="language-plaintext highlighter-rouge">node_sample</code> ç›®éŒ„ä¸‹</p>

<h3 id="create-a-deploy-imageyml">Create a <code class="language-plaintext highlighter-rouge">deploy-image.yml</code></h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> .github
<span class="nb">cd</span> .github
<span class="nb">mkdir </span>workflows
<span class="nb">cd </span>workflows
vim deploy-image.yml
</code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">Create and publish a Docker image</span>

<span class="c1"># Configures this workflow to run every time a change is pushed to the branch called `release`.</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">release"</span><span class="pi">]</span>

<span class="c1"># Defines two custom environment variables for the workflow. These are used for the Container registry domain, and a name for the Docker image that this workflow builds.</span>
<span class="na">env</span><span class="pi">:</span>
  <span class="na">REGISTRY</span><span class="pi">:</span> <span class="s">ghcr.io</span>
  <span class="na">IMAGE_NAME</span><span class="pi">:</span> <span class="s">$</span>

<span class="c1"># There is a single job in this workflow. It's configured to run on the latest available version of Ubuntu.</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build-and-push-image</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="c1"># Sets the permissions granted to the `GITHUB_TOKEN` for the actions in this job.</span>
    <span class="na">permissions</span><span class="pi">:</span>
      <span class="na">contents</span><span class="pi">:</span> <span class="s">read</span>
      <span class="na">packages</span><span class="pi">:</span> <span class="s">write</span>
      <span class="na">attestations</span><span class="pi">:</span> <span class="s">write</span>
      <span class="na">id-token</span><span class="pi">:</span> <span class="s">write</span>
      <span class="c1">#</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout repository</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v4</span>
      <span class="c1"># Uses the `docker/login-action` action to log in to the Container registry registry using the account and password that will publish the packages. Once published, the packages are scoped to the account defined here.</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Log in to the Container registry</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">docker/login-action@65b78e6e13532edd9afa3aa52ac7964289d1a9c1</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">registry</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">username</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">password</span><span class="pi">:</span> <span class="s">$</span>
      <span class="c1"># This step uses [docker/metadata-action](https://github.com/docker/metadata-action#about) to extract tags and labels that will be applied to the specified image. The `id` "meta" allows the output of this step to be referenced in a subsequent step. The `images` value provides the base name for the tags and labels.</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Extract metadata (tags, labels) for Docker</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">meta</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">images</span><span class="pi">:</span> <span class="s">$/$</span>
      <span class="c1"># This step uses the `docker/build-push-action` action to build the image, based on your repository's `Dockerfile`. If the build succeeds, it pushes the image to GitHub Packages.</span>
      <span class="c1"># It uses the `context` parameter to define the build's context as the set of files located in the specified path. For more information, see "[Usage](https://github.com/docker/build-push-action#usage)" in the README of the `docker/build-push-action` repository.</span>
      <span class="c1"># It uses the `tags` and `labels` parameters to tag and label the image with the output from the "meta" step.</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build and push Docker image</span>
        <span class="na">id</span><span class="pi">:</span> <span class="s">push</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">docker/build-push-action@f2a1d5e99d037542a71f64918e516c093c6f3fc4</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">context</span><span class="pi">:</span> <span class="s">.</span>
          <span class="na">push</span><span class="pi">:</span> <span class="kc">true</span>
          <span class="na">tags</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">labels</span><span class="pi">:</span> <span class="s">$</span>

      <span class="c1"># This step generates an artifact attestation for the image, which is an unforgeable statement about where and how it was built. It increases supply chain security for people who consume the image. For more information, see "[AUTOTITLE](/actions/security-guides/using-artifact-attestations-to-establish-provenance-for-builds)."</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Generate artifact attestation</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/attest-build-provenance@v1</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">subject-name</span><span class="pi">:</span> <span class="s">$/$</span>
          <span class="na">subject-digest</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">push-to-registry</span><span class="pi">:</span> <span class="kc">true</span>

</code></pre></div></div>

<h3 id="pushing-node_sample-repository">Pushing <code class="language-plaintext highlighter-rouge">node_sample</code> repository</h3>

<p>å°‡ node_sample çš„ source code æ¨åˆ°ä½ çš„ Github ä¸Šï¼Œå¦‚æ­¤æ¯æ¬¡åªè¦ release branch æœ‰ commit å°±æœƒè§¸ç™¼ Github Action å»è‡ªå‹• build image ä¸¦ä¸Šå‚³åˆ° <strong>Github Container Registry</strong></p>

<p><img src="/blog/assets/images/github_container_registry_github_package.png" alt="github_container_registry_github_package" /></p>

<h2 id="ä¸‹è¼‰-image">ä¸‹è¼‰ image</h2>

<ul>
  <li>Install from the command line</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull ghcr.io/nickhuangcyh/node_sample:TAG
</code></pre></div></div>

<ul>
  <li>Use as base image in Dockerfile:</li>
</ul>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> ghcr.io/nickhuangcyh/node_sample:TAG</span>
</code></pre></div></div>

<p><img src="/blog/assets/images/github_container_registry_download_image.png" alt="github_container_registry_download_image" /></p>

<blockquote>
  <p>æ‚¨å¯æ–¼æ­¤ <a href="https://github.com/nickhuangcyh/design_pattern">node_sample</a> ä¸‹è¼‰ <code class="language-plaintext highlighter-rouge">node_sample</code> çš„ç¨‹å¼ç¢¼ã€‚</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/blog/tags/#ci-cd" class="page__taxonomy-item p-category" rel="tag">CI/CD</a><span class="sep">, </span>
    
      <a href="/blog/tags/#container-registry" class="page__taxonomy-item p-category" rel="tag">Container Registry</a><span class="sep">, </span>
    
      <a href="/blog/tags/#devops-tools" class="page__taxonomy-item p-category" rel="tag">DevOps Tools</a><span class="sep">, </span>
    
      <a href="/blog/tags/#docker" class="page__taxonomy-item p-category" rel="tag">Docker</a><span class="sep">, </span>
    
      <a href="/blog/tags/#github-actions" class="page__taxonomy-item p-category" rel="tag">GitHub Actions</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/blog/categories/#devops" class="page__taxonomy-item p-category" rel="tag">DevOps</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2024-07-23T10:00:00+00:00">July 23, 2024</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://x.com/intent/tweet?text=Getting+Started+with+GitHub+Container+Registry%20https%3A%2F%2Fnickhuangcyh.github.io%2Fblog%2Fdevops%2Fgetting-started-with-github-container-registry%2F" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fnickhuangcyh.github.io%2Fblog%2Fdevops%2Fgetting-started-with-github-container-registry%2F" class="btn btn--facebook" aria-label="Share on Facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook">
    <i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://nickhuangcyh.github.io/blog/devops/getting-started-with-github-container-registry/" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

  <a href="https://bsky.app/intent/compose?text=Getting+Started+with+GitHub+Container+Registry%20https%3A%2F%2Fnickhuangcyh.github.io%2Fblog%2Fdevops%2Fgetting-started-with-github-container-registry%2F" class="btn btn--bluesky" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Bluesky">
    <i class="fab fa-fw fa-bluesky" aria-hidden="true"></i><span> Bluesky</span>
  </a>
</section>


      
  <nav class="pagination">
    
      <a href="/blog/design%20pattern/design-pattern-9-prototype-pattern/" class="pagination--pager" title="Design Pattern (9) - Prototype Pattern (åŸå‹æ¨¡å¼)">Previous</a>
    
    
      <a href="/blog/cryptography/openssh/security/how-to-enable-rsa-encryption-algorithm-key-in-openssh-8.8/" class="pagination--pager" title="How to Enable RSA Encryption Algorithm Key in OpenSSH 8.8">Next</a>
    
  </nav>


    </div>

    
      
        <p>
          Comments are configured with provider: <strong>disqus</strong>,
          but are disabled in non-production environments.
        </p>
      
    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You may also enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/blog/assets/images/github-multi-account.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/devops/productivity/github/how-to-use-multiple-github-accounts-using-ssh/" rel="permalink">ğŸ’¡ ä¸€å°é›»è…¦æ“ä½œå¤šå€‹ GitHub å¸³è™Ÿï¼šæœ€ç°¡å–®å¿«é€Ÿçš„ SSH è¨­å®šæ–¹æ³•
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-05-18T06:00:00+00:00">May 18, 2025</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">è®“ä½ çš„é›»è…¦åŒæ™‚æ“ä½œå¤šå€‹ GitHub å¸³è™Ÿï¼Œé©åˆæœ‰å¤šå€‹èº«åˆ†æˆ–å·¥ä½œ/å€‹äººå¸³è™Ÿçš„é–‹ç™¼è€…ä½¿ç”¨ã€‚
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/blog/assets/images/kelly-sikkema-lFtttcsx5Vk-unsplash.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/ai%20tools/visualization/productivity/ai-tools-excalidraw-chart-guide/" rel="permalink">ğŸš€ å¦‚ä½•ä½¿ç”¨ Excalidraw AI å¿«é€Ÿç”Ÿæˆå°ˆæ¥­ç´šåœ–è¡¨ï¼Œæå‡å·¥ä½œæ•ˆç‡ï¼
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-03-15T08:30:00+00:00">March 15, 2025</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">ä½¿ç”¨ Excalidraw AI åªéœ€è¼¸å…¥æ–‡å­—æè¿°ï¼Œå³å¯å¿«é€Ÿç”Ÿæˆæµç¨‹åœ–ã€æŠ€è¡“æ¶æ§‹åœ–ã€å¿ƒæ™ºåœ–ç­‰ï¼Œæå‡å·¥ä½œæ•ˆç‡ï¼
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/blog/assets/images/raul-per-e-K2w9VegUIb0-unsplash.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/setup%20guide/setup-development-environment-on-a-new-macos/" rel="permalink">Setup Development Environment on a New macOS
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2025-01-11T07:00:00+00:00">January 11, 2025</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Step-by-step guide to setting up a mobile development environment on a new macOS system.
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/blog/assets/images/design_patterns.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/blog/design%20pattern/design-pattern-28-interpreter-pattern/" rel="permalink">Design Pattern (28) - Interpreter Pattern (è§£è­¯å™¨æ¨¡å¼)
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2024-12-29T08:30:00+00:00">December 29, 2024</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">è§£è­¯å™¨æ¨¡å¼ç”¨æ–¼æ§‹å»ºä¸€å€‹å¯è§£è®€ç‰¹å®šèªè¨€æˆ–èªæ³•çš„ç³»çµ±ï¼Œé©åˆæ–¼è™•ç†è¤‡é›œçš„è¦å‰‡åˆ¤æ–·æˆ–æŒ‡ä»¤èªæ³•ã€‚
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="https://www.linkedin.com/in/nick-huang-5485b315a/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://github.com/nickhuangcyh" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.youtube.com/channel/UC6Dnl0rB-HAhfL2XWRIZXmg" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i> Youtube</a></li>
        
      
        
          <li><a href="https://www.instagram.com/nickhuangcyh/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://twitter.com/nickhuangcyh" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://www.facebook.com/nickhuangcyh" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
        
      
        
      
        
      
    

    
      <li><a href="/blog/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="https://nickhuangcyh.github.io">Nick's Blog</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/blog/assets/js/main.min.js"></script>




<script src="/blog/assets/js/lunr/lunr.min.js"></script>
<script src="/blog/assets/js/lunr/lunr-store.js"></script>
<script src="/blog/assets/js/lunr/lunr-en.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-F7ZWQE4FFM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-F7ZWQE4FFM');
</script>


    
  <script>
    var disqus_config = function () {
      this.page.url = "https://nickhuangcyh.github.io/blog/devops/getting-started-with-github-container-registry/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/devops/getting-started-with-github-container-registry"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://nickhuangcyh.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  




  </body>
</html>